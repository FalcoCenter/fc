    <!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <title>سـنـتـر الـصـقـر | صيانة سوفت وير كمبيوتر - موبايل - بلايستشن - ريسيفر</title>
    <meta name="description" content="نقدم خدمات صيانة سوفتوير وفيرموير احترافية للكمبيوتر، البلايستيشن، الموبايل، الريسيفر مع تصميم جرافيك وبرمجة مخصصة في الأقصر. فريقنا متخصص في إصلاح جميع المشاكل التقنية.">
    <meta name="keywords" content="صيانة كمبيوتر, صيانة بلايستيشن, تصميم جرافيك, برمجة, صيانة موبايل, فيرموير, سوفتوير, صيانة الأقصر, مركز تقني, إصلاح أجهزة">
    <meta name="author" content="مركز الصقر التقني">
    <meta name="robots" content="index, follow">
    <meta name="googlebot" content="index, follow">
    <link rel="stylesheet" href="style.css">
    <script src="script.js"></script>
    <!-- تحسينات SEO والوصولية -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700&family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Favicons محسّنة -->
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
    <link rel="manifest" href="site.webmanifest">
    <link rel="mask-icon" href="safari-pinned-tab.svg" color="#10b981">
    <meta name="msapplication-TileColor" content="#10b981">
    <meta name="theme-color" content="#10b981">
    
    <!-- Open Graph tags محسّنة -->
    <meta property="og:title" content="سـنـتـر الـصـقـر | صيانة سوفت وير وفيرموير احترافية">
    <meta property="og:description" content="خدمات صيانة سوفتوير وفيرموير احترافية للكمبيوتر، البلايستيشن، الموبايل، الريسيفر مع تصميم جرافيك وبرمجة مخصصة في الأقصر">
    <meta property="og:image" content="https://placehold.co/1200x630/10b981/ffffff/png?text=مركز+الصقر+التقني">
    <meta property="og:url" content="https://www.مركز-الصقر-التقني.com">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="ar_SA">
    <meta property="og:site_name" content="سـنـتـر الـصـقـر">
    
    <!-- Twitter Card محسّن -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="سـنـتـر الـصـقـر | صيانة سوفت وير وفيرموير احترافية">
    <meta name="twitter:description" content="خدمات صيانة سوفتوير وفيرموير احترافية مع فريق محترف في الأقصر">
    <meta name="twitter:image" content="https://placehold.co/1200x630/10b981/ffffff/png?text=مركز+الصقر+التقني">
    <meta name="twitter:site" content="@مركز_الصقر">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://www.مركز-الصقر-التقني.com">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Structured Data for SEO -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "LocalBusiness",
        "name": "سـنـتـر الـصـقـر",
        "image": "https://placehold.co/600x400/10b981/ffffff/png?text=مركز+الصقر+شعار",
        "description": "خدمات صيانة سوفتوير وفيرموير احترافية للكمبيوتر، البلايستيشن، الموبايل، الريسيفر مع تصميم جرافيك وبرمجة مخصصة",
        "address": {
            "@type": "PostalAddress",
            "streetAddress": "الطريق السياحي، البغدادي",
            "addressLocality": "الأقصر",
            "addressRegion": "محافظة الأقصر",
            "postalCode": "85951",
            "addressCountry": "EG"
        },
        "geo": {
            "@type": "GeoCoordinates",
            "latitude": 25.6872,
            "longitude": 32.6396
        },
        "url": "https://www.مركز-الصقر-التقني.com",
        "telephone": "+201275817812",
        "priceRange": "50-500 جنيه",
        "openingHoursSpecification": [
            {
                "@type": "OpeningHoursSpecification",
                "dayOfWeek": ["Monday", "Tuesday", "Wednesday", "Thursday", "Sunday"],
                "opens": "09:00",
                "closes": "22:00"
            },
            {
                "@type": "OpeningHoursSpecification",
                "dayOfWeek": "Friday",
                "opens": "16:00",
                "closes": "22:00"
            },
            {
                "@type": "OpeningHoursSpecification",
                "dayOfWeek": "Saturday",
                "opens": "10:00",
                "closes": "22:00"
            }
        ],
        "serviceArea": {
            "@type": "GeoCircle",
            "geoMidpoint": {
                "@type": "GeoCoordinates",
                "latitude": 25.6872,
                "longitude": 32.6396
            },
            "geoRadius": "20000"
        },
        "services": [
            "صيانة كمبيوتر",
            "صيانة بلايستيشن",
            "صيانة موبايل",
            "صيانة ريسيفر",
            "تصميم جرافيك",
            "برمجة وتطوير"
        ],
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.9",
            "reviewCount": "127",
            "bestRating": "5",
            "worstRating": "1"
        },
        "sameAs": [
            "https://facebook.com/مركز-الصقر-التقني",
            "https://twitter.com/مركز_الصقر",
            "https://instagram.com/مركز_الصقر_التقني"
        ]
    }
    </script>
    
    <!-- Core Styles - Minified هنا في اسفل كود الستايل-->
    
</head>
<body>
    <!-- Progress Bar -->
    <div class="progress-bar" id="progressBar"></div>
    
    <!-- Live Badge -->
    <div class="live-badge">متصل الآن</div>
    
    <!-- Loading Spinner -->
    <div class="loading-spinner" id="loadingSpinner" aria-hidden="true"></div>
    
    <!-- Rating Widget -->
    <div class="rating-widget" id="ratingWidget">
        <div style="font-weight: 600; margin-bottom: 0.5rem;">كيف كانت تجربتك؟</div>
        <div class="rating-stars">
            <span class="rating-star" data-rating="1">★</span>
            <span class="rating-star" data-rating="2">★</span>
            <span class="rating-star" data-rating="3">★</span>
            <span class="rating-star" data-rating="4">★</span>
            <span class="rating-star" data-rating="5">★</span>
        </div>
        <button class="btn btn-sm" onclick="app.closeRating()" style="width: 100%; margin-top: 0.5rem;">إغلاق</button>
    </div>
    
    <!-- Lightbox -->
    <div id="lightbox" class="lightbox" aria-hidden="true" role="dialog" aria-labelledby="lightboxTitle" aria-describedby="lightboxDescription">
        <div class="lightbox-content">
            <button class="lightbox-close" onclick="app.closeLightbox()" aria-label="إغلاق المعرض">
                <i class="fas fa-times"></i>
            </button>
            <div class="lightbox-image-container">
                <img id="lightboxImage" src="" alt="">
            </div>
            <div class="lightbox-info">
                <h3 id="lightboxTitle"></h3>
                <p id="lightboxDescription"></p>
            </div>
            <div class="lightbox-controls">
                <button class="lightbox-prev" onclick="app.prevImage()" aria-label="الصورة السابقة">
                    <i class="fas fa-chevron-right"></i>
                </button>
                <button class="lightbox-next" onclick="app.nextImage()" aria-label="الصورة التالية">
                    <i class="fas fa-chevron-left"></i>
                </button>
            </div>
        </div>
    </div>
    
    <!-- Chatbot -->
    <div class="chatbot-container" id="chatbotContainer">
        <button class="chatbot-toggle" id="chatbotToggle" aria-label="فتح الدردشة الآلية">
            <i class="fas fa-comment"></i>
        </button>
        <div class="chatbot-window" id="chatbotWindow">
            <div class="chatbot-header">
                <h3 style="margin: 0;">مساعد مركز الصقر</h3>
                <button class="btn btn-sm" onclick="app.closeChatbot()" aria-label="إغلاق الدردشة">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="chatbot-messages" id="chatbotMessages">
                <div class="message bot">
                    <p>مرحباً! أنا مساعد مركز الصقر. كيف يمكنني مساعدتك اليوم؟</p>
                </div>
            </div>
            <div class="chatbot-input">
                <input type="text" id="chatbotInput" placeholder="اكتب رسالتك هنا..." aria-label="رسالة الدردشة">
                <button class="btn btn-primary" onclick="app.sendChatMessage()" aria-label="إرسال الرسالة">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
    </div>
    
    <!-- Cookie Consent -->
    <div class="cookie-consent" id="cookieConsent">
        <div class="cookie-content">
            <p>نحن نستخدم ملفات تعريف الارتباط لتحسين تجربتك على موقعنا. باستخدامك للموقع، فإنك توافق على استخدامنا لملفات تعريف الارتباط وفقًا لـ <a href="#" onclick="app.showPrivacyPolicy()" style="color: var(--primary-color); text-decoration: underline;">سياسة الخصوصية</a>.</p>
            <button class="btn btn-primary" onclick="app.acceptCookies()">موافق</button>
        </div>
    </div>
    
    <!-- Scroll to Top Button -->
    <button class="scroll-top" id="scrollTop" onclick="app.scrollToTop()" aria-label="العودة إلى الأعلى">
        <i class="fas fa-arrow-up"></i>
    </button>
    
    <!-- Header -->
    <header class="header" id="mainHeader">
        <div class="nav-container">
            <a href="#home" class="logo">
    <div class="logo-sparks" id="logoSparkContainer">
        <div class="logo-img-container">
            <!-- استبدل الرابط التالي برابط صورتك من Google Drive -->
            <img src="https://lh3.googleusercontent.com/d/1k33e93ZOuq0tIs6Dmu73ZHOrPoutKO0x=w1000?authuser=0" 
                 alt="شعار مركز الصقر"
                 class="circular-logo">
        </div>
    </div>
    <span>سـنـتـر الـصـقـر</span>
</a>
            
            <button class="mobile-menu-btn" id="mobileMenuBtn" aria-label="قائمة التنقل" aria-expanded="false">
                <i class="fas fa-bars"></i>
            </button>
            
            <nav class="nav" aria-label="القائمة الرئيسية">
                <ul class="nav-links" id="navLinks">
                    <li><a href="#home" class="active">الرئيسية</a></li>
                    <li><a href="#services">خدماتنا</a></li>
                    <li><a href="#booking">الحجز</a></li>
                    <li><a href="#faq">الأسئلة</a></li>
                    <li><a href="#portfolio">أعمالنا</a></li>
                    <li><a href="#testimonials">تقييمات</a></li>
                    <li><a href="#contact">تواصل</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section id="home" class="hero" role="banner">
        <div class="hero-content fade-in">
            <div class="hero-logo-container" id="heroLogoContainer">
                <div class="hero-logo">
    <!-- استبدل الرابط التالي برابط صورتك من Google Drive -->
    <img src="https://lh3.googleusercontent.com/d/1k33e93ZOuq0tIs6Dmu73ZHOrPoutKO0x=w1000?authuser=0" 
         alt="شعار مركز الصقر"
         class="circular-logo" 
         style="width: 100%; height: 100%; object-fit: cover;">
</div>
            </div>
            <h1 class="hero-title">صيانة سوفت وير وفيرموير احترافية</h1>
            <p class="hero-subtitle">
                نقدم حلولاً تقنية متكاملة بدءًا من صيانة الأجهزة الإلكترونية إلى التصميم والبرمجة المخصصة. فريقنا المحترف جاهز لخدمتك على مدار الساعة.
            </p>
            <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap; margin-top: 3rem;">
                <button class="btn btn-primary btn-lg" onclick="app.scrollToSection('booking')" aria-label="احجز موعد الآن">
                    احجز موعد الآن
                </button>
                <button class="btn btn-secondary btn-lg" onclick="app.callUs()" aria-label="اتصل بنا">
                    <i class="fas fa-phone"></i> اتصل بنا
                </button>
            </div>
        </div>
    </section>

    <!-- Services Section -->
    <section id="services" class="services" aria-labelledby="services-title">
        <div class="container">
            <h2 id="services-title" class="section-title">خدماتنا المتكاملة</h2>
            <p class="section-subtitle">نقدم مجموعة واسعة من الخدمات التقنية بجودة عالية وأسعار منافسة</p>
            
            <div class="service-grid">
                <!-- Computer Service -->
                <div class="service-card" id="computer">
                    <div class="service-icon" style="background: linear-gradient(135deg, #1E3A8A, #3B82F6);" aria-hidden="true">
                        <i class="fas fa-desktop"></i>
                    </div>
                    <h3>صيانة سوفت وير وفيرموير كمبيوتر</h3>
                    <ul class="service-list">
                        <li>إصلاح أخطاء سوفت وير وتجميد النظام</li>
                        <li><strong>تحديث وصيانة BIOS/UEFI</strong></li>
                        <li>فيرموير كروت شاشة NVIDIA/AMD</li>
                        <li>تنظيف شامل وحماية فيروسات</li>
                        <li>استعادة البيانات المفقودة</li>
                        <li>تثبيت أنظمة تشغيل متعددة</li>
                    </ul>
                    <div class="service-price">
                        <div class="price-tag">من 150 جنيه</div>
                        <div class="price-note">السعر يختلف حسب نوع الصيانة</div>
                    </div>
                    <button class="btn btn-primary btn-block" onclick="app.bookService('كمبيوتر')" aria-label="طلب خدمة صيانة الكمبيوتر">
                        اطلب الخدمة
                    </button>
                </div>

                <!-- PlayStation Service -->
                <div class="service-card" id="ps">
                    <div class="service-icon" style="background: linear-gradient(135deg, #EF4444, #F59E0B);" aria-hidden="true">
                        <i class="fas fa-gamepad"></i>
                    </div>
                    <h3>صيانة سوفت وير بلايستيشن</h3>
                    <ul class="service-list">
                        <li>إصلاح مشاكل PS4/PS5/PS3</li>
                        <li>باك آب وبحث احتياطي</li>
                        <li>إصلاح ألعاب لا تعمل</li>
                        <li>تحديثات نظام وتهيئة</li>
                        <li>إصلاح مشاكل الشبكة</li>
                        <li>تنظيف داخلي وتبريد</li>
                    </ul>
                    <div class="service-price">
                        <div class="price-tag">من 250 جنيه</div>
                        <div class="price-note">يشمل ضمان 30 يوم</div>
                    </div>
                    <button class="btn btn-primary btn-block" onclick="app.bookService('بلايستيشن')" aria-label="طلب خدمة صيانة البلايستيشن">
                        اطلب الخدمة
                    </button>
                </div>

                <!-- Mobile Service -->
                <div class="service-card" id="mobile">
                    <div class="service-icon" style="background: linear-gradient(135deg, #06B6D4, #3B82F6);" aria-hidden="true">
                        <i class="fas fa-mobile-alt"></i>
                    </div>
                    <h3>صيانة سوفت وير موبايل</h3>
                    <ul class="service-list">
                        <li>iOS و Android</li>
                        <li>إزالة فيروسات وبرامج ضارة</li>
                        <li>إعادة ضبط المصنع مع حفظ البيانات</li>
                        <li>تحديثات نظام وتجاوز مشاكل التحديث</li>
                        <li>فتح قفل الشاشة والجهاز</li>
                        <li>إصلاح مشاكل الشبكة والبلوتوث</li>
                    </ul>
                    <div class="service-price">
                        <div class="price-tag">من 200 جنيه</div>
                        <div class="price-note">لجميع أنواع الهواتف</div>
                    </div>
                    <button class="btn btn-primary btn-block" onclick="app.bookService('موبايل')" aria-label="طلب خدمة صيانة الموبايل">
                        اطلب الخدمة
                    </button>
                </div>

                <!-- Receiver Service -->
                <div class="service-card" id="receiver">
                    <div class="service-icon" style="background: linear-gradient(135deg, #8B5CF6, #EC4899);" aria-hidden="true">
                        <i class="fas fa-satellite-dish"></i>
                    </div>
                    <h3>صيانة سوفت وير ريسيفر</h3>
                    <ul class="service-list">
                        <li>فتح قنوات مشفرة</li>
                        <li>تحديث فيرموير جميع الأنواع</li>
                        <li>إصلاح تجميد وتشويش</li>
                        <li>تثبيت سيرفرات IPTV</li>
                        <li>إعدادات متقدمة للباقات</li>
                        <li>صيانة جميع الماركات العالمية</li>
                    </ul>
                    <div class="service-price">
                        <div class="price-tag">من 80 جنيه</div>
                        <div class="price-note">تحديث مجاني لمدة شهر</div>
                    </div>
                    <button class="btn btn-primary btn-block" onclick="app.bookService('ريسيفر')" aria-label="طلب خدمة صيانة الريسيفر">
                        اطلب الخدمة
                    </button>
                </div>

                <!-- Graphic Design -->
                <div class="service-card" id="graphic">
                    <div class="service-icon" style="background: linear-gradient(135deg, #10B981, #34D399);" aria-hidden="true">
                        <i class="fas fa-paint-brush"></i>
                    </div>
                    <h3>تصميم جرافيك احترافي</h3>
                    <ul class="service-list">
                        <li>تصميم لوغوهات وهوية بصرية</li>
                        <li>بانرات وإعلانات ومطبوعات</li>
                        <li>تصاميم وسائط اجتماعية احترافية</li>
                        <li>تحرير فيديو وإعلانات ترويجية</li>
                        <li>تصميم أغلفة كتب ومجلات</li>
                        <li>تصاميم واجهات تطبيقات ومواقع</li>
                    </ul>
                    <div class="service-price">
                        <div class="price-tag">من 300 جنيه</div>
                        <div class="price-note">تصاميم احترافية وعصرية</div>
                    </div>
                    <button class="btn btn-primary btn-block" onclick="app.bookService('تصميم جرافيك')" aria-label="طلب خدمة التصميم الجرافيكي">
                        اطلب الخدمة
                    </button>
                </div>

                <!-- Programming -->
                <div class="service-card" id="coding">
                    <div class="service-icon" style="background: linear-gradient(135deg, #F59E0B, #EF4444);" aria-hidden="true">
                        <i class="fas fa-code"></i>
                    </div>
                    <h3>خدمات برمجية</h3>
                    <ul class="service-list">
                        <li>مواقع ويب مخصصة وتجارة إلكترونية</li>
                        <li>تطبيقات موبايل (iOS & Android)</li>
                        <li>برامج سطح مكتب وإدارية</li>
                        <li>أتمتة عمليات وأعمال</li>
                        <li>حلول تقنية للمؤسسات</li>
                        <li>صيانة وتطوير برامج حالية</li>
                    </ul>
                    <div class="service-price">
                        <div class="price-tag">من 500 جنيه</div>
                        <div class="price-note">حسب متطلبات المشروع</div>
                    </div>
                    <button class="btn btn-primary btn-block" onclick="app.bookService('برمجة')" aria-label="طلب خدمة البرمجة">
                        اطلب الخدمة
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Booking Form -->
    <section id="booking" class="booking-section" aria-labelledby="booking-title">
        <div class="container">
            <h2 id="booking-title" class="section-title">احجز موعدك الآن</h2>
            <p class="section-subtitle">املأ النموذج وسنتواصل معك خلال 24 ساعة لتأكيد الموعد</p>
            
            <div class="form-container">
                <form id="bookingForm" onsubmit="app.submitBooking(event)" aria-label="نموذج حجز موعد">
                    <input type="hidden" name="_csrf" id="csrfToken">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="name" class="form-label">الاسم الكامل *</label>
                            <input type="text" id="name" class="form-input" required aria-required="true">
                        </div>
                        
                        <div class="form-group">
                            <label for="phone" class="form-label">رقم الجوال *</label>
                            <input type="tel" id="phone" class="form-input" required placeholder="مثال: 05XXXXXXXX" aria-required="true">
                        </div>
                        
                        <div class="form-group">
                            <label for="email" class="form-label">البريد الإلكتروني</label>
                            <input type="email" id="email" class="form-input" aria-describedby="email-help">
                            <small id="email-help" style="display: block; margin-top: 0.5rem; color: var(--text-light);">
                                سنرسل لك تأكيد الحجز على هذا البريد
                            </small>
                        </div>
                        
                        <div class="form-group">
                            <label for="service" class="form-label">نوع الخدمة المطلوبة *</label>
                            <select id="service" class="form-select" required aria-required="true">
                                <option value="">اختر الخدمة</option>
                                <option value="كمبيوتر">صيانة كمبيوتر</option>
                                <option value="بلايستيشن">صيانة بلايستيشن</option>
                                <option value="موبايل">صيانة موبايل</option>
                                <option value="ريسيفر">صيانة ريسيفر</option>
                                <option value="تصميم">تصميم جرافيك</option>
                                <option value="برمجة">برمجة مخصصة</option>
                                <option value="استشارة">استشارة تقنية</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="device" class="form-label">نوع الجهاز / الوصف</label>
                        <input type="text" id="device" class="form-input" placeholder="مثال: لاب توب Dell، iPhone 13، PS5">
                    </div>
                    
                    <div class="form-group">
                        <label for="problem" class="form-label">وصف المشكلة / المطلوب *</label>
                        <textarea id="problem" class="form-textarea" required placeholder="صف لنا المشكلة بالتفصيل..." aria-required="true"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="date" class="form-label">التاريخ المفضل للزيارة</label>
                        <input type="date" id="date" class="form-input">
                    </div>
                    
                    <div class="form-checkbox">
                        <input type="checkbox" id="terms" required style="width: auto;">
                        <label for="terms">أوافق على <a href="#" onclick="app.showTerms()">شروط الخدمة</a> و <a href="#" onclick="app.showPrivacyPolicy()">سياسة الخصوصية</a> *</label>
                    </div>
                    
                    <div class="form-group">
                        <label for="priority" class="form-label">أولوية الخدمة</label>
                        <select id="priority" class="form-select">
                            <option value="normal">عادية (24-48 ساعة)</option>
                            <option value="urgent">عاجلة (12-24 ساعة) + 20%</option>
                            <option value="emergency">طارئة (4-12 ساعة) + 50%</option>
                        </select>
                    </div>
                    
                    <button type="submit" class="btn btn-primary btn-block btn-lg" style="margin-top: 2rem;">
                        إرسال طلب الحجز
                    </button>
                </form>
            </div>
            
            <!-- Order History -->
            <div id="orderHistory" style="max-width: 900px; margin: 4rem auto 0; display: none;">
                <h3 class="section-title" style="font-size: 1.75rem;">آخر طلباتك</h3>
                <div style="background: var(--light-bg); padding: 2rem; border-radius: var(--radius-xl); margin-top: 1.5rem;">
                    <div id="ordersList"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ -->
    <section id="faq" class="faq-section" aria-labelledby="faq-title">
        <div class="container">
            <h2 id="faq-title" class="section-title">الأسئلة الشائعة</h2>
            <p class="section-subtitle">إجابات على أكثر الأسئلة شيوعًا من عملائنا</p>
            
            <div class="faq-container">
                <div class="faq-item">
                    <div class="faq-question" onclick="app.toggleFAQ(this)" aria-expanded="false" role="button" tabindex="0">
                        كم تستغرق مدة الصيانة؟
                        <span class="faq-icon">➕</span>
                    </div>
                    <div class="faq-answer">
                        تختلف المدة حسب نوع المشكلة، لكن معظم إصلاحات السوفتوير تستغرق من 1-3 ساعات. بعض المشكلات المعقدة قد تحتاج ليوم واحد. نحرص على إبلاغك بالتقدير الزمني قبل البدء ونقدم تحديثات دورية.
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question" onclick="app.toggleFAQ(this)" aria-expanded="false" role="button" tabindex="0">
                        هل تقدمون خدمة المنزل؟
                        <span class="faq-icon">➕</span>
                    </div>
                    <div class="faq-answer">
                        نعم، نقدم خدمة المنزل بأسعار إضافية حسب الموقع. يمكنك زيارة ورشتنا في العنوان المذكور. خدمة المنزل متاحة ضمن نطاق جغرافي محدد في الأقصر (داخل نطاق 10 كم من المركز).
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question" onclick="app.toggleFAQ(this)" aria-expanded="false" role="button" tabindex="0">
                        ما هي أسعار الخدمات؟
                        <span class="faq-icon">➕</span>
                    </div>
                    <div class="faq-answer">
                        الأسعار تبدأ من 150 جنيه للكمبيوتر، 250 للبلايستيشن، 200 للموبايل، 80 للريسيفر، 300 للتصميم الجرافيكي، و500 للبرمجة. يتم تحديد السعر النهائي بعد التشخيص. نقدم أسعارًا تنافسية وضمانًا على جميع الخدمات.
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question" onclick="app.toggleFAQ(this)" aria-expanded="false" role="button" tabindex="0">
                        هل يوجد ضمان على الإصلاح؟
                        <span class="faq-icon">➕</span>
                    </div>
                    <div class="faq-answer">
                        نعم، جميع خدماتنا مضمونة: 30 يومًا على أعمال الصيانة، 90 يومًا على أعمال البرمجة والتصميم، و60 يومًا على خدمات التحديث. الضمان يشمل نفس المشكلة التي تم إصلاحها. يتم تقديم وثيقة ضمان مع كل خدمة.
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question" onclick="app.toggleFAQ(this)" aria-expanded="false" role="button" tabindex="0">
                        كيف يمكنني متابعة حالة جهازي؟
                        <span class="faq-icon">➕</span>
                    </div>
                    <div class="faq-answer">
                        سنوفر لك رقم متابعة فريد ويمكنك التواصل عبر واتساب أو الاتصال بنا مباشرة لمتابعة حالة الإصلاح. نقدم تحديثات دورية عن حالة جهازك عبر الرسائل النصية والبريد الإلكتروني.
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question" onclick="app.toggleFAQ(this)" aria-expanded="false" role="button" tabindex="0">
                        هل تقدمون فاتورة ضريبية؟
                        <span class="faq-icon">➕</span>
                    </div>
                    <div class="faq-answer">
                        نعم، نقدم فاتورة ضريبية معتمدة (فاتورة ضريبية إلكترونية) لجميع الخدمات. يمكنك طلبها عند الدفع وسنصدرها فوراً. الفواتير تشمل جميع البيانات المطلوبة قانونياً.
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- أعمالنا - Portfolio Section -->
    <section id="portfolio" class="portfolio-section" aria-labelledby="portfolio-title">
        <div class="container">
            <h2 id="portfolio-title" class="section-title">معرض أعمالنا</h2>
            <p class="section-subtitle">شاهد بعض الأعمال التي قمنا بها لعملائنا الكرام</p>
            
            <!-- فلاتر التصنيف -->
            <div class="portfolio-filters">
                <button class="filter-btn active" onclick="app.filterPortfolio('all')" aria-label="عرض الكل">
                    الكل
                </button>
                <button class="filter-btn" onclick="app.filterPortfolio('computer')" aria-label="صيانة الكمبيوتر">
                    صيانة كمبيوتر
                </button>
                <button class="filter-btn" onclick="app.filterPortfolio('playstation')" aria-label="صيانة البلايستيشن">
                    صيانة بلايستيشن
                </button>
                <button class="filter-btn" onclick="app.filterPortfolio('mobile')" aria-label="صيانة الموبايل">
                    صيانة موبايل
                </button>
                <button class="filter-btn" onclick="app.filterPortfolio('receiver')" aria-label="صيانة الريسيفر">
                    صيانة ريسيفر
                </button>
                <button class="filter-btn" onclick="app.filterPortfolio('design')" aria-label="تصميم جرافيك">
                    تصميم جرافيك
                </button>
            </div>
            
            <!-- معرض الصور -->
            <div class="portfolio-grid" id="portfolioGrid">
                <!-- سيتم إضافة العناصر عبر JavaScript -->
            </div>
            
            <!-- عرض المزيد -->
            <div style="text-align: center; margin-top: 3rem;">
                <button class="btn btn-primary" onclick="app.loadMorePortfolio()" aria-label="عرض المزيد من الأعمال">
                    <i class="fas fa-plus"></i> عرض المزيد
                </button>
            </div>
        </div>
    </section>

    <!-- Testimonials -->
    <section id="testimonials" class="testimonials" aria-labelledby="testimonials-title">
        <div class="container">
            <h2 id="testimonials-title" class="section-title">تقييمات عملائنا</h2>
            <p class="section-subtitle">رأي عملائنا في خدماتنا يقول أكثر من أي شيء</p>
            
            <div class="testimonial-grid">
                <div class="testimonial-card">
                    <div class="testimonial-rating" aria-label="5 نجوم">
                        <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                    </div>
                    <p>"خدمة ممتازة وسريعة. أصلحوا جهاز PS5 الخاص بي خلال ساعتين فقط. فريق العمل محترف جدًا ويتعامل بمنتهى الدقة والأمانة. أنصح الجميع بالتعامل معهم."</p>
                    <div class="testimonial-author">
                        <div class="author-avatar">أ</div>
                        <div>
                            <strong>أحمد سعيد</strong><br>
                            <span style="color: var(--text-light); font-size: 0.9rem;">منذ أسبوعين</span>
                        </div>
                    </div>
                </div>
                
                <div class="testimonial-card">
                    <div class="testimonial-rating" aria-label="5 نجوم">
                        <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                    </div>
                    <p>"تصميم الهوية البصرية لشركتي كان رائعًا ومحترفًا. تفاعل الفريق مع التعديلات كان سريعًا ومتقنًا. أسعارهم منافسة وجودة العمل عالية. بالتأكيد سأعمل معهم مرة أخرى."</p>
                    <div class="testimonial-author">
                        <div class="author-avatar">س</div>
                        <div>
                            <strong>سارة محمد</strong><br>
                            <span style="color: var(--text-light); font-size: 0.9rem;">منذ شهر</span>
                        </div>
                    </div>
                </div>
                
                <div class="testimonial-card">
                    <div class="testimonial-rating" aria-label="5 نجوم">
                        <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                    </div>
                    <p>"استعادة بياناتي المفقودة من اللابتوب كانت مستحيلة في رأيي، لكنهم فعلوها. فريق الدعم الفني كان صبورًا ومتفهمًا. شكرًا جزيلاً على المجهود الرائع والخدمة المتميزة."</p>
                    <div class="testimonial-author">
                        <div class="author-avatar">خ</div>
                        <div>
                            <strong>خالد علي</strong><br>
                            <span style="color: var(--text-light); font-size: 0.9rem;">منذ 3 أيام</span>
                        </div>
                    </div>
                </div>
                
                <div class="testimonial-card">
                    <div class="testimonial-rating" aria-label="5 نجوم">
                        <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                    </div>
                    <p>"تحديث الريسيفر وتثبيت IPTV كان سلساً وسريعاً. شرحوا لي كل شيء بالتفصيل وحصلت على تحديثات مجانية لمدة 3 أشهر. خدمة ما بعد البيع ممتازة."</p>
                    <div class="testimonial-author">
                        <div class="author-avatar">م</div>
                        <div>
                            <strong>محمد حسن</strong><br>
                            <span style="color: var(--text-light); font-size: 0.9rem;">منذ أسبوع</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div style="text-align: center; margin-top: 3rem;">
                <button class="btn btn-secondary" onclick="app.showMoreTestimonials()" aria-label="عرض المزيد من التقييمات">
                    عرض المزيد من التقييمات
                </button>
                <button class="btn btn-primary" onclick="app.openRatingWidget()" style="margin-right: 1rem;" aria-label="أضف تقييمك">
                    <i class="fas fa-star"></i> أضف تقييمك
                </button>
            </div>
        </div>
    </section>

    <!-- Contact -->
    <section id="contact" class="contact-section" aria-labelledby="contact-title">
        <div class="container">
            <h2 id="contact-title" class="section-title" style="color: white;">تواصل معنا الآن</h2>
            <p class="section-subtitle" style="color: #E5E7EB; max-width: 700px; margin: 0 auto 3rem;">
                نسعد بخدمتك في أي وقت من خلال قنوات التواصل التالية. فريق الدعم الفني جاهز للإجابة على استفساراتك على مدار الساعة.
            </p>
            
            <div class="contact-methods">
                <!-- واتساب -->
                <div class="contact-method">
                    <div class="method-icon">
                        <i class="fab fa-whatsapp"></i>
                    </div>
                    <h3 style="color: white; margin-bottom: 1rem;">واتساب</h3>
                    <p style="margin-bottom: 1.5rem; color: #E5E7EB;">تواصل معنا مباشرة على واتساب</p>
                    <a href="https://wa.me/201275817812" class="btn btn-primary" target="_blank" rel="noopener noreferrer" aria-label="تواصل على واتساب">
                        افتح واتساب
                    </a>
                </div>
                
                <!-- فيسبوك -->
                <div class="contact-method">
                    <div class="method-icon">
                        <i class="fab fa-facebook"></i>
                    </div>
                    <h3 style="color: white; margin-bottom: 1rem;">فيسبوك</h3>
                    <p style="margin-bottom: 1.5rem; color: #E5E7EB;">تابعنا على فيسبوك</p>
                    <a href="https://facebook.com" class="btn btn-primary" target="_blank" rel="noopener noreferrer" aria-label="زيارة صفحة الفيسبوك">
                        <i class="fab fa-facebook"></i> زيارة الصفحة
                    </a>
                </div>
                
                <!-- اتصال مباشر -->
                <div class="contact-method">
                    <div class="method-icon">
                        <i class="fas fa-phone"></i>
                    </div>
                    <h3 style="color: white; margin-bottom: 1rem;">اتصال مباشر</h3>
                    <p style="margin-bottom: 1.5rem; color: #E5E7EB;">اتصل بنا الآن للحصول على مساعدة فورية</p>
                    <button class="btn btn-primary" onclick="app.callUs()" aria-label="اتصل بنا الآن">
                        اتصل بنا
                    </button>
                </div>
                
                <!-- البريد الإلكتروني -->
                <div class="contact-method">
                    <div class="method-icon">
                        <i class="fas fa-envelope"></i>
                    </div>
                    <h3 style="color: white; margin-bottom: 1rem;">البريد الإلكتروني</h3>
                    <p style="margin-bottom: 1.5rem; color: #E5E7EB;">أرسل لنا رسالة وسنرد عليك خلال ساعات</p>
                    <a href="mailto:F3lcoCenter@gmail.com" class="btn btn-primary" aria-label="أرسل بريد إلكتروني">
                        أرسل بريد
                    </a>
                </div>
            </div>
            
            <!-- خريطة جوجل -->
            <div class="map-container">
                <iframe 
                    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3597.156834350778!2d32.63738277537339!3d25.687215677398487!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x144915f1e81571d5%3A0x5b2b5e5d5b5e5d5b!2sLuxor%2C%20Luxor%20Governorate!5e0!3m2!1sen!2seg!4v1681234567890!5m2!1sen!2seg" 
                    width="100%" 
                    height="400" 
                    style="border:0;" 
                    allowfullscreen="" 
                    loading="lazy" 
                    referrerpolicy="no-referrer-when-downgrade"
                    title="موقع مركز الصقر على خرائط جوجل">
                </iframe>
            </div>
            
            <!-- معلومات الاتصال الإضافية -->
            <div style="text-align: center; margin-top: 3rem; color: #E5E7EB;">
                <div style="display: flex; justify-content: center; flex-wrap: wrap; gap: 2rem; margin-bottom: 2rem;">
                    <div>
                        <h4 style="color: white; margin-bottom: 0.5rem;"><i class="fas fa-clock"></i> ساعات العمل</h4>
                        <p>الأحد - الخميس: 9:00 ص - 10:00 م</p>
                        <p>الجمعة: 4:00 م - 10:00 م</p>
                        <p>السبت: 10:00 ص - 10:00 م</p>
                    </div>
                    <div>
                        <h4 style="color: white; margin-bottom: 0.5rem;"><i class="fas fa-map-marker-alt"></i> العنوان</h4>
                        <p>الطريق السياحي، البغدادي</p>
                        <p>الأقصر، مصر</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer" role="contentinfo">
        <div class="footer-content">
            <div class="footer-column">
                <h3>سـنـتـر الـصـقـر</h3>
                <p style="color: #CBD5E1; margin-bottom: 1.5rem;">
                    نقدم حلولاً تقنية متكاملة بجودة عالية وأسعار منافسة في الأقصر.
                </p>
                <div class="social-links">
                    <a href="https://facebook.com" class="social-link" aria-label="فيسبوك" target="_blank" rel="noopener noreferrer"><i class="fab fa-facebook-f"></i></a>
                    <a href="https://twitter.com" class="social-link" aria-label="تويتر" target="_blank" rel="noopener noreferrer"><i class="fab fa-twitter"></i></a>
                    <a href="https://instagram.com" class="social-link" aria-label="إنستجرام" target="_blank" rel="noopener noreferrer"><i class="fab fa-instagram"></i></a>
                    <a href="https://youtube.com" class="social-link" aria-label="يوتيوب" target="_blank" rel="noopener noreferrer"><i class="fab fa-youtube"></i></a>
                </div>
            </div>
            
            <div class="footer-column">
                <h3>روابط سريعة</h3>
                <ul class="footer-links">
                    <li><a href="#home">الرئيسية</a></li>
                    <li><a href="#services">خدماتنا</a></li>
                    <li><a href="#booking">الحجز</a></li>
                    <li><a href="#faq">الأسئلة الشائعة</a></li>
                    <li><a href="#portfolio">أعمالنا</a></li>
                    <li><a href="#testimonials">تقييمات</a></li>
                </ul>
            </div>
            
            <div class="footer-column">
                <h3>خدماتنا</h3>
                <ul class="footer-links">
                    <li><a href="#computer">صيانة كمبيوتر</a></li>
                    <li><a href="#ps">صيانة بلايستيشن</a></li>
                    <li><a href="#mobile">صيانة موبايل</a></li>
                    <li><a href="#receiver">صيانة ريسيفر</a></li>
                    <li><a href="#graphic">تصميم جرافيك</a></li>
                    <li><a href="#coding">برمجة مخصصة</a></li>
                </ul>
            </div>
            
            <div class="footer-column">
                <h3>معلومات قانونية</h3>
                <ul class="footer-links">
                    <li><a href="#" onclick="app.showPrivacyPolicy()">سياسة الخصوصية</a></li>
                    <li><a href="#" onclick="app.showTerms()">شروط الخدمة</a></li>
                    <li><a href="#" onclick="app.showRefundPolicy()">سياسة الاسترجاع</a></li>
                    <li><a href="#" onclick="app.showContactInfo()">معلومات الاتصال</a></li>
                    <li><a href="#" onclick="app.showFAQ()">الأسئلة الشائعة</a></li>
                </ul>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p>© <span id="currentYear"></span> سـنـتـر الـصـقـر. جميع الحقوق محفوظة.</p>
            <p style="margin-top: 0.5rem; font-size: 0.9rem;">
                رقم السجل التجاري: 1234567890 | VAT: 123456789012345
            </p>
            <p style="margin-top: 0.5rem; font-size: 0.9rem;">
                تم التطوير بواسطة مركز الصقر التقني
            </p>
        </div>
    </footer>

    <!-- JavaScript -->
    <!--<script>
        // تهيئة التطبيق
        class TechServiceApp {
            constructor() {
                this.config = {
                    phone: '+201275817812',
                    email: 'F3lcoCenter@gmail.com',
                    whatsapp: 'https://wa.me/201275817812',
                    facebook: 'https://facebook.com',
                    location: 'الأقصر البغدادي - بجوار مكتبة التميز',
                    address: 'الطريق السياحي، البغدادي، الأقصر'
                };
                
                this.state = {
                    userData: null,
                    cookiesAccepted: false,
                    currentOrder: null,
                    chatOpen: false,
                    csrfToken: this.generateCSRFToken(),
                    portfolioItems: [],
                    currentFilter: 'all',
                    currentImageIndex: 0,
                    sparkInterval: null,
                    userRating: null,
                    showRatingWidget: false
                };
                
                this.portfolioData = [
                    {
                        id: 1,
                        category: 'computer',
                        image: 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="800" height="600" viewBox="0 0 800 600"><rect width="800" height="600" fill="%231F2937"/><rect x="100" y="100" width="600" height="400" rx="20" fill="%2310B981"/><rect x="150" y="150" width="500" height="300" fill="%230F172A"/><circle cx="400" cy="300" r="50" fill="%23F59E0B"/><text x="400" y="470" font-family="Arial" font-size="24" fill="white" text-anchor="middle">صيانة كمبيوتر</text></svg>',
                        title: 'صيانة لاب توب Dell',
                        description: 'تحديث BIOS وإصلاح مشاكل التشغيل'
                    },
                    {
                        id: 2,
                        category: 'playstation',
                        image: 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="800" height="600" viewBox="0 0 800 600"><rect width="800" height="600" fill="%231F2937"/><rect x="150" y="150" width="500" height="300" rx="30" fill="%23003791"/><circle cx="300" cy="300" r="40" fill="white"/><circle cx="500" cy="300" r="40" fill="white"/><rect x="280" y="280" width="40" height="40" rx="10" fill="%23003791"/><rect x="480" y="280" width="40" height="40" rx="10" fill="%23003791"/><text x="400" y="500" font-family="Arial" font-size="24" fill="white" text-anchor="middle">صيانة بلايستيشن</text></svg>',
                        title: 'صيانة PS5',
                        description: 'تحديث نظام وتنظيف داخلي كامل'
                    },
                    {
                        id: 3,
                        category: 'mobile',
                        image: 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="800" height="600" viewBox="0 0 800 600"><rect width="800" height="600" fill="%231F2937"/><rect x="200" y="100" width="400" height="500" rx="40" fill="%2310B981"/><rect x="220" y="120" width="360" height="460" rx="30" fill="%230F172A"/><circle cx="400" cy="200" r="20" fill="%2310B981"/><rect x="300" y="300" width="200" height="100" rx="20" fill="%23F59E0B"/><text x="400" y="380" font-family="Arial" font-size="20" fill="white" text-anchor="middle">موبايل</text><text x="400" y="500" font-family="Arial" font-size="24" fill="white" text-anchor="middle">صيانة هواتف</text></svg>',
                        title: 'صيانة هواتف متنوعة',
                        description: 'إصلاح مشاكل السوفتوير لأجهزة iOS و Android'
                    },
                    {
                        id: 4,
                        category: 'receiver',
                        image: 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="800" height="600" viewBox="0 0 800 600"><rect width="800" height="600" fill="%231F2937"/><rect x="150" y="150" width="500" height="300" rx="20" fill="%231E3A8A"/><rect x="200" y="200" width="400" height="200" fill="%230F172A"/><circle cx="400" cy="300" r="30" fill="%23F59E0B"/><rect x="350" y="140" width="100" height="20" rx="10" fill="%231E3A8A"/><text x="400" y="470" font-family="Arial" font-size="24" fill="white" text-anchor="middle">تحديث ريسيفر</text></svg>',
                        title: 'تحديث ريسيفر',
                        description: 'تحديث فيرموير ريسيفر لمشاهدة القنوات'
                    },
                    {
                        id: 5,
                        category: 'design',
                        image: 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="800" height="600" viewBox="0 0 800 600"><rect width="800" height="600" fill="%231F2937"/><circle cx="400" cy="250" r="100" fill="%23EC4899"/><rect x="250" y="400" width="300" height="100" rx="20" fill="%23F59E0B"/><text x="400" y="460" font-family="Arial" font-size="32" fill="white" text-anchor="middle">تصميم</text><text x="400" y="500" font-family="Arial" font-size="24" fill="white" text-anchor="middle">تصميم هوية بصرية</text></svg>',
                        title: 'تصميم هوية بصرية',
                        description: 'تصميم شعار وبطاقات عمل لشركة تقنية'
                    },
                    {
                        id: 6,
                        category: 'computer',
                        image: 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="800" height="600" viewBox="0 0 800 600"><rect width="800" height="600" fill="%231F2937"/><rect x="150" y="150" width="500" height="300" rx="20" fill="%23059669"/><path d="M200,200 L600,400 M200,400 L600,200" stroke="%23F59E0B" stroke-width="10"/><circle cx="400" cy="300" r="50" fill="%2310B981" opacity="0.5"/><text x="400" y="500" font-family="Arial" font-size="24" fill="white" text-anchor="middle">استعادة بيانات</text></svg>',
                        title: 'استعادة بيانات مفقودة',
                        description: 'استرجاع ملفات من قرص صلب تالف'
                    }
                ];
                
                this.init();
            }
            
            init() {
                this.setupDOM();
                this.loadUserData();
                this.setupEventListeners();
                this.setupServiceWorker();
                this.setupAnalytics();
                this.initPortfolio();
                this.startSparkEffect();
            }
            
            setupDOM() {
                // تحديث السنة الحالية
                document.getElementById('currentYear').textContent = new Date().getFullYear();
                
                // إعداد CSRF token
                document.getElementById('csrfToken').value = this.state.csrfToken;
                
                // إعداد تاريخ الحجز
                const dateInput = document.getElementById('date');
                if (dateInput) {
                    const tomorrow = new Date();
                    tomorrow.setDate(tomorrow.getDate() + 1);
                    dateInput.min = new Date().toISOString().split('T')[0];
                    dateInput.value = tomorrow.toISOString().split('T')[0];
                }
            }
            
            loadUserData() {
                try {
                    const userData = localStorage.getItem('tech_service_user');
                    const cookies = localStorage.getItem('tech_service_cookies');
                    const orders = localStorage.getItem('tech_service_orders');
                    const rating = localStorage.getItem('tech_service_rating');
                    
                    this.state.userData = userData ? JSON.parse(userData) : {};
                    this.state.cookiesAccepted = cookies ? JSON.parse(cookies) : false;
                    this.state.orders = orders ? JSON.parse(orders) : [];
                    this.state.userRating = rating ? JSON.parse(rating) : null;
                    
                    if (!this.state.cookiesAccepted) {
                        setTimeout(() => this.showCookieConsent(), 2000);
                    }
                    
                    this.loadOrderHistory();
                } catch (error) {
                    console.error('Error loading user data:', error);
                }
            }
            
            setupEventListeners() {
                // شريط التمرير
                window.addEventListener('scroll', () => this.handleScroll());
                
                // قائمة الجوال
                const mobileMenuBtn = document.getElementById('mobileMenuBtn');
                if (mobileMenuBtn) {
                    mobileMenuBtn.addEventListener('click', () => this.toggleMobileMenu());
                }
                
                // إغلاق القائمة عند النقر خارجها
                document.addEventListener('click', (event) => {
                    const navLinks = document.getElementById('navLinks');
                    const mobileMenuBtn = document.getElementById('mobileMenuBtn');
                    
                    if (navLinks && navLinks.classList.contains('active') && 
                        mobileMenuBtn && !navLinks.contains(event.target) && 
                        !mobileMenuBtn.contains(event.target)) {
                        this.toggleMobileMenu();
                    }
                });
                
                // تحديث الرابط النشط
                window.addEventListener('scroll', () => this.updateActiveNavLink());
                
                // اختصارات لوحة المفاتيح
                document.addEventListener('keydown', (event) => this.handleKeyboardShortcuts(event));
                
                // تغيير حجم النافذة
                window.addEventListener('resize', () => this.handleResize());
                
                // Chatbot
                const chatbotToggle = document.getElementById('chatbotToggle');
                if (chatbotToggle) {
                    chatbotToggle.addEventListener('click', () => this.toggleChatbot());
                }
                
                const chatbotInput = document.getElementById('chatbotInput');
                if (chatbotInput) {
                    chatbotInput.addEventListener('keypress', (event) => {
                        if (event.key === 'Enter') {
                            this.sendChatMessage();
                        }
                    });
                }
                
                // النماذج
                const bookingForm = document.getElementById('bookingForm');
                if (bookingForm) {
                    bookingForm.addEventListener('input', () => this.autosaveForm());
                }
                
                // تأثيرات الشعار
                const logoContainer = document.querySelector('.logo');
                if (logoContainer) {
                    logoContainer.addEventListener('mouseenter', () => this.increaseSparkEffect());
                    logoContainer.addEventListener('mouseleave', () => this.normalSparkEffect());
                }
                
                // Lazy loading للصور
                this.setupLazyLoading();
                
                // Rating stars
                document.querySelectorAll('.rating-star').forEach(star => {
                    star.addEventListener('click', (e) => this.handleStarClick(e));
                    star.addEventListener('mouseover', (e) => this.handleStarHover(e));
                });
            }
            
            setupServiceWorker() {
                if ('serviceWorker' in navigator) {
                    window.addEventListener('load', async () => {
                        try {
                            const registration = await navigator.serviceWorker.register('/sw.js');
                            console.log('ServiceWorker registered:', registration);
                            
                            // Check for updates
                            registration.addEventListener('updatefound', () => {
                                const newWorker = registration.installing;
                                console.log('New service worker found:', newWorker);
                            });
                        } catch (error) {
                            console.log('ServiceWorker registration failed:', error);
                            // Continue without service worker
                        }
                    });
                }
            }
            
            setupAnalytics() {
                if (this.state.cookiesAccepted) {
                    console.log('Analytics enabled');
                    // يمكنك إضافة Google Analytics هنا
                    // gtag('config', 'GA_MEASUREMENT_ID');
                }
            }
            
            setupLazyLoading() {
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            const img = entry.target;
                            const src = img.getAttribute('data-src');
                            if (src) {
                                img.src = src;
                                img.removeAttribute('data-src');
                            }
                            observer.unobserve(img);
                        }
                    });
                }, {
                    rootMargin: '50px',
                    threshold: 0.1
                });
                
                document.querySelectorAll('img[data-src]').forEach(img => observer.observe(img));
            }
            
            generateCSRFToken() {
                return 'csrf_' + Math.random().toString(36).substr(2, 9) + '_' + Date.now();
            }
            
            startSparkEffect() {
                // تأثير الشرارات للشعار الرئيسي
                this.state.sparkInterval = setInterval(() => {
                    this.createSpark('logoSparkContainer');
                    this.createSpark('heroLogoContainer');
                }, 300);
            }
            
            createSpark(containerId) {
                const container = document.getElementById(containerId);
                if (!container) return;
                
                const spark = document.createElement('div');
                spark.className = containerId === 'heroLogoContainer' ? 'hero-spark' : 'logo-spark';
                
                // موضع عشوائي حول الشعار
                const angle = Math.random() * Math.PI * 2;
                const radius = containerId === 'heroLogoContainer' ? 80 : 25;
                const x = Math.cos(angle) * radius;
                const y = Math.sin(angle) * radius;
                
                spark.style.left = `calc(50% + ${x}px)`;
                spark.style.top = `calc(50% + ${y}px)`;
                
                // إضافة الشرارة
                container.appendChild(spark);
                
                // تحريك الشرارة
                const targetX = x + (Math.random() - 0.5) * 100;
                const targetY = y + (Math.random() - 0.5) * 100;
                
                spark.animate([
                    {
                        transform: 'translate(0, 0) scale(1)',
                        opacity: 1
                    },
                    {
                        transform: `translate(${targetX}px, ${targetY}px) scale(0)`,
                        opacity: 0
                    }
                ], {
                    duration: 1000 + Math.random() * 1000,
                    easing: 'cubic-bezier(0.4, 0, 0.2, 1)'
                });
                
                // إزالة الشرارة بعد الانتهاء
                setTimeout(() => {
                    if (spark.parentNode) {
                        spark.parentNode.removeChild(spark);
                    }
                }, 2000);
            }
            
            increaseSparkEffect() {
                if (this.state.sparkInterval) {
                    clearInterval(this.state.sparkInterval);
                }
                
                this.state.sparkInterval = setInterval(() => {
                    this.createSpark('logoSparkContainer');
                    this.createSpark('heroLogoContainer');
                }, 100); // شرارات أكثر عند hover
            }
            
            normalSparkEffect() {
                if (this.state.sparkInterval) {
                    clearInterval(this.state.sparkInterval);
                }
                
                this.state.sparkInterval = setInterval(() => {
                    this.createSpark('logoSparkContainer');
                    this.createSpark('heroLogoContainer');
                }, 300); // سرعة عادية
            }
            
            handleScroll() {
                const header = document.getElementById('mainHeader');
                const scrollTopBtn = document.getElementById('scrollTop');
                const progressBar = document.getElementById('progressBar');
                const scrollY = window.scrollY;
                
                // تحديث الهيدر
                if (header) {
                    header.classList.toggle('scrolled', scrollY > 100);
                }
                
                // زر العودة للأعلى
                if (scrollTopBtn) {
                    scrollTopBtn.classList.toggle('visible', scrollY > 300);
                }
                
                // شريط التقدم
                if (progressBar) {
                    const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
                    const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
                    const scrolled = (winScroll / height) * 100;
                    progressBar.style.width = scrolled + '%';
                }
            }
            
            scrollToSection(sectionId) {
                const section = document.getElementById(sectionId);
                if (section) {
                    const headerHeight = document.getElementById('mainHeader').offsetHeight;
                    const targetPosition = section.offsetTop - headerHeight - 20;
                    
                    window.scrollTo({
                        top: targetPosition,
                        behavior: 'smooth'
                    });
                    
                    this.updateActiveNavLink();
                    
                    // إغلاق قائمة الجوال إذا كانت مفتوحة
                    const navLinks = document.getElementById('navLinks');
                    if (navLinks && navLinks.classList.contains('active')) {
                        this.toggleMobileMenu();
                    }
                }
            }
            
            updateActiveNavLink() {
                const sections = document.querySelectorAll('section[id]');
                const navLinks = document.querySelectorAll('.nav-links a');
                
                let currentSection = '';
                const scrollY = window.scrollY + 100;
                
                sections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    const sectionHeight = section.offsetHeight;
                    
                    if (scrollY >= sectionTop && scrollY < sectionTop + sectionHeight) {
                        currentSection = section.getAttribute('id');
                    }
                });
                
                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href') === `#${currentSection}`) {
                        link.classList.add('active');
                    }
                });
            }
            
            toggleMobileMenu() {
                const navLinks = document.getElementById('navLinks');
                const mobileMenuBtn = document.getElementById('mobileMenuBtn');
                
                if (navLinks && mobileMenuBtn) {
                    const isExpanded = mobileMenuBtn.getAttribute('aria-expanded') === 'true';
                    
                    navLinks.classList.toggle('active');
                    mobileMenuBtn.setAttribute('aria-expanded', !isExpanded);
                    mobileMenuBtn.innerHTML = isExpanded ? '<i class="fas fa-bars"></i>' : '<i class="fas fa-times"></i>';
                }
            }
            
            toggleChatbot() {
                const chatbotWindow = document.getElementById('chatbotWindow');
                this.state.chatOpen = !this.state.chatOpen;
                
                if (chatbotWindow) {
                    chatbotWindow.style.display = this.state.chatOpen ? 'block' : 'none';
                    if (this.state.chatOpen) {
                        setTimeout(() => {
                            document.getElementById('chatbotInput')?.focus();
                        }, 100);
                    }
                }
            }
            
            closeChatbot() {
                const chatbotWindow = document.getElementById('chatbotWindow');
                this.state.chatOpen = false;
                
                if (chatbotWindow) {
                    chatbotWindow.style.display = 'none';
                }
            }
            
            async sendChatMessage() {
                const input = document.getElementById('chatbotInput');
                const messages = document.getElementById('chatbotMessages');
                
                if (!input || !messages || !input.value.trim()) return;
                
                const message = input.value.trim();
                input.value = '';
                
                // إضافة رسالة المستخدم
                const userMessage = document.createElement('div');
                userMessage.className = 'message user';
                userMessage.innerHTML = `<p><strong>أنت:</strong> ${message}</p>`;
                messages.appendChild(userMessage);
                
                // محاكاة رد المساعد
                setTimeout(() => {
                    const response = this.getChatbotResponse(message);
                    const botMessage = document.createElement('div');
                    botMessage.className = 'message bot';
                    botMessage.innerHTML = `<p><strong>المساعد:</strong> ${response}</p>`;
                    messages.appendChild(botMessage);
                    messages.scrollTop = messages.scrollHeight;
                }, 1000);
                
                messages.scrollTop = messages.scrollHeight;
            }
            
            getChatbotResponse(message) {
                message = message.toLowerCase();
                
                const responses = {
                    'سعر': 'أسعار خدماتنا تبدأ من 150 جنيه وتختلف حسب نوع الخدمة. يمكنك الاطلاع على الأسعار في قسم الخدمات أو الاتصال بنا للاستفسار.',
                    'سعر|اسعار': 'أسعار خدماتنا تبدأ من 150 جنيه وتختلف حسب نوع الخدمة. يمكنك الاطلاع على الأسعار في قسم الخدمات أو الاتصال بنا للاستفسار.',
                    'موعد': 'يمكنك حجز موعد عبر نموذج الحجز الموجود في الموقع. سنتصل بك خلال 24 ساعة لتأكيد الموعد.',
                    'موقع': 'نحن موجودون في الأقصر البغدادي - الطريق السياحي، بجوار مكتبة التميز.',
                    'هاتف': 'رقم الهاتف: +201275817812 - يمكنك الاتصال بنا الآن.',
                    'فيسبوك': 'يمكنك متابعتنا على فيسبوك عبر الرابط في قسم التواصل.',
                    'ضمان': 'جميع خدماتنا مضمونة: 30 يومًا على الصيانة، 90 يومًا على البرمجة والتصميم، 60 يومًا على التحديثات.',
                    'وقت': 'ساعات العمل: الأحد-الخميس 9 صباحًا - 10 مساءً، الجمعة 4 مساءً - 10 مساءً، السبت 10 صباحًا - 10 مساءً.',
                    'أعمال': 'يمكنك مشاهدة أعمالنا في قسم "أعمالنا" في الموقع. نفتخر بما نقوم به لعملائنا.',
                    'خدمات': 'نقدم خدمات صيانة كمبيوتر، بلايستيشن، موبايل، ريسيفر، تصميم جرافيك، وبرمجة مخصصة.',
                    'ريسيفر': 'نقدم خدمات صيانة وتحديث ريسيفر بأسعار ممتازة مع تحديثات مجانية لمدة شهر.',
                    'مرحبا|اهلا|السلام عليكم': 'مرحباً بك! كيف يمكنني مساعدتك اليوم؟',
                    'شكرا|مشكور': 'شكراً لك! نحن دائماً هنا لخدمتك.',
                    'وداعا|مع السلامة': 'مع السلامة! نتمنى لك يوماً سعيداً.'
                };
                
                for (const [keyword, response] of Object.entries(responses)) {
                    if (keyword.includes('|')) {
                        const keywords = keyword.split('|');
                        if (keywords.some(k => message.includes(k))) {
                            return response;
                        }
                    } else if (message.includes(keyword)) {
                        return response;
                    }
                }
                
                return 'شكراً لرسالتك! كيف يمكنني مساعدتك؟ يمكنك الاستفسار عن: الأسعار، المواعيد، الموقع، الهاتف، فيسبوك، الضمان، أوقات العمل، أعمالنا، خدماتنا، أو الريسيفر.';
            }
            
            handleKeyboardShortcuts(event) {
                // Ctrl + B: الحجز
                if (event.ctrlKey && event.key === 'b') {
                    event.preventDefault();
                    this.scrollToSection('booking');
                }
                
                // Ctrl + H: الرئيسية
                if (event.ctrlKey && event.key === 'h') {
                    event.preventDefault();
                    this.scrollToSection('home');
                }
                
                // Ctrl + P: أعمالنا
                if (event.ctrlKey && event.key === 'p') {
                    event.preventDefault();
                    this.scrollToSection('portfolio');
                }
                
                // Escape: إغلاق القوائم
                if (event.key === 'Escape') {
                    const navLinks = document.getElementById('navLinks');
                    if (navLinks && navLinks.classList.contains('active')) {
                        this.toggleMobileMenu();
                    }
                    
                    if (this.state.chatOpen) {
                        this.closeChatbot();
                    }
                    
                    if (this.state.showRatingWidget) {
                        this.closeRating();
                    }
                    
                    this.closeLightbox();
                }
                
                // السهم الأيمن/الأيسر في Lightbox
                if (event.key === 'ArrowRight') {
                    this.prevImage();
                } else if (event.key === 'ArrowLeft') {
                    this.nextImage();
                }
            }
            
            handleResize() {
                if (window.innerWidth > 768) {
                    const navLinks = document.getElementById('navLinks');
                    const mobileMenuBtn = document.getElementById('mobileMenuBtn');
                    
                    if (navLinks && navLinks.classList.contains('active')) {
                        navLinks.classList.remove('active');
                        if (mobileMenuBtn) {
                            mobileMenuBtn.setAttribute('aria-expanded', 'false');
                            mobileMenuBtn.innerHTML = '<i class="fas fa-bars"></i>';
                        }
                    }
                }
            }
            
            async submitBooking(event) {
                event.preventDefault();
                
                if (!this.validateBookingForm()) {
                    return;
                }
                
                this.showLoading();
                
                try {
                    const formData = this.collectFormData();
                    const response = await this.sendBookingRequest(formData);
                    
                    if (response.success) {
                        this.saveBooking(formData);
                        this.showSuccessMessage(formData);
                        event.target.reset();
                        this.loadOrderHistory();
                        
                        // إظهار widget التقييم بعد 5 ثواني
                        setTimeout(() => {
                            if (!this.state.userRating) {
                                this.openRatingWidget();
                            }
                        }, 5000);
                    } else {
                        throw new Error('فشل في إرسال الطلب');
                    }
                } catch (error) {
                    this.showError('حدث خطأ أثناء إرسال النموذج. يرجى المحاولة مرة أخرى.');
                    console.error('Booking error:', error);
                } finally {
                    this.hideLoading();
                }
            }
            
            collectFormData() {
                return {
                    name: document.getElementById('name').value.trim(),
                    phone: document.getElementById('phone').value.trim(),
                    email: document.getElementById('email').value.trim(),
                    service: document.getElementById('service').value,
                    device: document.getElementById('device').value.trim(),
                    problem: document.getElementById('problem').value.trim(),
                    date: document.getElementById('date').value,
                    priority: document.getElementById('priority').value,
                    timestamp: new Date().toISOString(),
                    orderNumber: 'TS' + Date.now().toString().slice(-8) + Math.floor(Math.random() * 1000).toString().padStart(3, '0'),
                    status: 'قيد المراجعة'
                };
            }
            
            validateBookingForm() {
                const name = document.getElementById('name').value.trim();
                const phone = document.getElementById('phone').value.trim();
                const email = document.getElementById('email').value.trim();
                const service = document.getElementById('service').value;
                const problem = document.getElementById('problem').value.trim();
                
                if (!name || name.length < 3) {
                    this.showError('الرجاء إدخال اسم صحيح (3 أحرف على الأقل)');
                    document.getElementById('name').focus();
                    return false;
                }
                
                const phoneRegex = /^(05|5)([0-9]{8})$/;
                if (!phone || !phoneRegex.test(phone.replace(/[^0-9]/g, ''))) {
                    this.showError('الرجاء إدخال رقم جوال صحيح (مثال: 0512345678)');
                    document.getElementById('phone').focus();
                    return false;
                }
                
                if (email && !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
                    this.showError('الرجاء إدخال بريد إلكتروني صحيح');
                    document.getElementById('email').focus();
                    return false;
                }
                
                if (!service) {
                    this.showError('الرجاء اختيار نوع الخدمة');
                    document.getElementById('service').focus();
                    return false;
                }
                
                if (!problem || problem.length < 10) {
                    this.showError('الرجاء وصف المشكلة بالتفصيل (10 أحرف على الأقل)');
                    document.getElementById('problem').focus();
                    return false;
                }
                
                return true;
            }
            
            async sendBookingRequest(formData) {
                // محاكاة إرسال البيانات إلى الخادم
                return new Promise((resolve) => {
                    setTimeout(() => {
                        resolve({
                            success: true,
                            orderNumber: formData.orderNumber,
                            message: 'تم استلام طلبك بنجاح'
                        });
                    }, 1500);
                });
            }
            
            saveBooking(formData) {
                try {
                    if (!this.state.userData.name) {
                        this.state.userData = {
                            name: formData.name,
                            phone: formData.phone,
                            email: formData.email,
                            lastVisit: new Date().toISOString()
                        };
                        localStorage.setItem('tech_service_user', JSON.stringify(this.state.userData));
                    }
                    
                    this.state.orders.unshift({
                        ...formData,
                        read: false
                    });
                    
                    if (this.state.orders.length > 50) {
                        this.state.orders = this.state.orders.slice(0, 50);
                    }
                    
                    localStorage.setItem('tech_service_orders', JSON.stringify(this.state.orders));
                    this.state.currentOrder = formData;
                    
                } catch (error) {
                    console.error('Error saving booking:', error);
                }
            }
            
            loadOrderHistory() {
                const ordersList = document.getElementById('ordersList');
                const orderHistory = document.getElementById('orderHistory');
                
                if (!ordersList) return;
                
                if (this.state.orders.length === 0) {
                    ordersList.innerHTML = `
                        <div style="text-align: center; padding: 2rem; color: var(--text-light);">
                            <i class="fas fa-clipboard-list" style="font-size: 3rem; margin-bottom: 1rem;"></i>
                            <p>لا توجد طلبات سابقة</p>
                        </div>
                    `;
                    if (orderHistory) orderHistory.style.display = 'none';
                    return;
                }
                
                if (orderHistory) orderHistory.style.display = 'block';
                
                ordersList.innerHTML = this.state.orders.map(order => `
                    <div style="background: white; border-radius: var(--radius-lg); padding: 1.5rem; margin-bottom: 1rem; border: 1px solid var(--border-color);">
                        <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 1rem;">
                            <div>
                                <strong style="color: var(--secondary-color);">${order.orderNumber}</strong>
                                <span style="background: ${this.getStatusColor(order.status)}; color: white; padding: 0.25rem 0.75rem; border-radius: var(--radius-sm); font-size: 0.875rem; margin-right: 1rem;">
                                    ${order.status}
                                </span>
                            </div>
                            <span style="color: var(--text-light); font-size: 0.875rem;">${this.formatDate(order.timestamp)}</span>
                        </div>
                        <div style="color: var(--text-color); margin-bottom: 0.5rem;">
                            <strong>الخدمة:</strong> ${order.service}
                        </div>
                        <div style="color: var(--text-light); font-size: 0.875rem; margin-bottom: 1rem;">
                            ${order.problem.substring(0, 100)}${order.problem.length > 100 ? '...' : ''}
                        </div>
                        <div style="display: flex; gap: 0.5rem; justify-content: flex-end;">
                            <button onclick="app.viewOrderDetails('${order.orderNumber}')" style="background: var(--light-bg); border: none; padding: 0.5rem 1rem; border-radius: var(--radius-sm); cursor: pointer; font-size: 0.875rem;">
                                التفاصيل
                            </button>
                            <button onclick="app.trackOrder('${order.orderNumber}')" style="background: var(--primary-color); color: white; border: none; padding: 0.5rem 1rem; border-radius: var(--radius-sm); cursor: pointer; font-size: 0.875rem;">
                                متابعة
                            </button>
                        </div>
                    </div>
                `).join('');
            }
            
            getStatusColor(status) {
                const colors = {
                    'قيد المراجعة': '#F59E0B',
                    'قيد التنفيذ': '#3B82F6',
                    'مكتمل': '#10B981',
                    'ملغي': '#EF4444'
                };
                return colors[status] || '#6B7280';
            }
            
            formatDate(isoString) {
                const date = new Date(isoString);
                return date.toLocaleDateString('ar-EG', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });
            }
            
            showSuccessMessage(formData) {
                const message = `✅ تم إرسال طلبك بنجاح!

🎉 شكراً ${formData.name}!
📋 رقم طلبك: ${formData.orderNumber}
📞 سنتصل بك على ${formData.phone} خلال 24 ساعة
⏰ وقت الاستجابة المتوقع: ${this.getResponseTime(formData.priority)}

يمكنك متابعة حالة طلبك عبر صفحة "آخر طلباتك".`;

                alert(message);
                
                if (Notification.permission === 'granted') {
                    new Notification('تم استلام طلبك!', {
                        body: `سنقوم بالاتصال بك قريباً رقم الطلب: ${formData.orderNumber}`,
                        icon: 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="45" fill="%2310B981"/><path d="M40,60 L70,40 L40,70" fill="none" stroke="white" stroke-width="8" stroke-linecap="round" stroke-linejoin="round"/></svg>'
                    });
                }
            }
            
            getResponseTime(priority) {
                const times = {
                    'urgent': '12-24 ساعة',
                    'emergency': '4-12 ساعة',
                    'normal': '24-48 ساعة'
                };
                return times[priority] || '24-48 ساعة';
            }
            
            showError(message) {
                alert(`❌ ${message}`);
            }
            
            showLoading() {
                const spinner = document.getElementById('loadingSpinner');
                if (spinner) {
                    spinner.style.display = 'block';
                    document.body.style.cursor = 'wait';
                }
            }
            
            hideLoading() {
                const spinner = document.getElementById('loadingSpinner');
                if (spinner) {
                    spinner.style.display = 'none';
                    document.body.style.cursor = 'default';
                }
            }
            
            acceptCookies() {
                this.state.cookiesAccepted = true;
                localStorage.setItem('tech_service_cookies', 'true');
                
                const cookieConsent = document.getElementById('cookieConsent');
                if (cookieConsent) {
                    cookieConsent.classList.remove('show');
                }
                
                this.setupAnalytics();
            }
            
            showCookieConsent() {
                setTimeout(() => {
                    const cookieConsent = document.getElementById('cookieConsent');
                    if (cookieConsent) {
                        cookieConsent.classList.add('show');
                    }
                }, 2000);
            }
            
            autosaveForm() {
                const form = document.getElementById('bookingForm');
                if (form) {
                    const formData = {};
                    ['name', 'phone', 'email', 'service', 'device', 'problem', 'date', 'priority'].forEach(id => {
                        const element = document.getElementById(id);
                        if (element) {
                            formData[id] = element.value;
                        }
                    });
                    
                    localStorage.setItem('tech_service_form_autosave', JSON.stringify(formData));
                }
            }
            
            bookService(service) {
                const serviceSelect = document.getElementById('service');
                if (serviceSelect) {
                    serviceSelect.value = service;
                    this.scrollToSection('booking');
                    
                    setTimeout(() => {
                        const problemField = document.getElementById('problem');
                        if (problemField) {
                            problemField.focus();
                            problemField.value = `أرغب في خدمة ${service}، المشكلة هي: `;
                        }
                    }, 500);
                }
            }
            
            callUs() {
                if (confirm(`هل تريد الاتصال بنا الآن على الرقم ${this.config.phone}؟`)) {
                    window.location.href = `tel:${this.config.phone}`;
                }
            }
            
            scrollToTop() {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
            
            toggleFAQ(element) {
                const answer = element.nextElementSibling;
                const icon = element.querySelector('.faq-icon');
                const isExpanded = element.getAttribute('aria-expanded') === 'true';
                
                if (!isExpanded) {
                    document.querySelectorAll('.faq-item.active').forEach(item => {
                        if (item !== element.parentElement) {
                            const otherAnswer = item.querySelector('.faq-answer');
                            const otherIcon = item.querySelector('.faq-icon');
                            otherAnswer.classList.remove('active');
                            otherIcon.textContent = '➕';
                            item.querySelector('.faq-question').setAttribute('aria-expanded', 'false');
                            item.classList.remove('active');
                        }
                    });
                }
                
                answer.classList.toggle('active');
                element.setAttribute('aria-expanded', !isExpanded);
                element.parentElement.classList.toggle('active');
                icon.textContent = isExpanded ? '➕' : '➖';
            }
            
            viewOrderDetails(orderNumber) {
                const order = this.state.orders.find(o => o.orderNumber === orderNumber);
                if (order) {
                    alert(this.generateOrderDetails(order));
                }
            }
            
            generateOrderDetails(order) {
                return `
                    فاتورة خدمة - مركز الصقر
                    =======================
                    رقم الطلب: ${order.orderNumber}
                    التاريخ: ${this.formatDate(order.timestamp)}
                    
                    معلومات العميل:
                    ---------------
                    الاسم: ${order.name}
                    الهاتف: ${order.phone}
                    ${order.email ? `البريد: ${order.email}` : ''}
                    
                    تفاصيل الخدمة:
                    --------------
                    نوع الخدمة: ${order.service}
                    الجهاز: ${order.device || 'غير محدد'}
                    المشكلة: ${order.problem}
                    
                    معلومات إضافية:
                    ----------------
                    تاريخ الزيارة: ${order.date || 'غير محدد'}
                    الأولوية: ${order.priority || 'عادية'}
                    الحالة: ${order.status}
                    
                    شكراً لثقتك بنا
                    مركز الصقر
                    ${this.config.phone}
                `;
            }
            
            trackOrder(orderNumber) {
                alert(`متابعة الطلب ${orderNumber}\n\nالحالة: قيد المراجعة\nسنتواصل معك قريباً على رقم الهاتف المسجل.`);
            }
            
            showMoreTestimonials() {
                alert('سيتم تحميل المزيد من التقييمات قريباً...');
            }
            
            openRatingWidget() {
                const widget = document.getElementById('ratingWidget');
                if (widget) {
                    widget.style.display = 'block';
                    this.state.showRatingWidget = true;
                }
            }
            
            closeRating() {
                const widget = document.getElementById('ratingWidget');
                if (widget) {
                    widget.style.display = 'none';
                    this.state.showRatingWidget = false;
                }
            }
            
            handleStarClick(event) {
                const rating = parseInt(event.target.dataset.rating);
                this.state.userRating = rating;
                localStorage.setItem('tech_service_rating', JSON.stringify(rating));
                
                // تحديث النجوم
                document.querySelectorAll('.rating-star').forEach((star, index) => {
                    if (index < rating) {
                        star.classList.add('active');
                        star.style.color = '#F59E0B';
                    } else {
                        star.classList.remove('active');
                        star.style.color = '#E5E7EB';
                    }
                });
                
                alert(`شكراً لك على تقييمك ${rating} نجوم!`);
                this.closeRating();
            }
            
            handleStarHover(event) {
                const rating = parseInt(event.target.dataset.rating);
                
                document.querySelectorAll('.rating-star').forEach((star, index) => {
                    if (index < rating) {
                        star.style.color = '#F59E0B';
                    } else {
                        star.style.color = '#E5E7EB';
                    }
                });
            }
            
            showPrivacyPolicy() {
                const policy = `
                    سياسة الخصوصية
                    ===============
                    
                    1. المعلومات التي نجمعها:
                    - المعلومات الشخصية (الاسم، رقم الهاتف، البريد الإلكتروني)
                    - معلومات الجهاز والمشكلة الفنية
                    - معلومات الحجز والدفع
                    
                    2. كيفية استخدام المعلومات:
                    - لتقديم الخدمات المطلوبة
                    - للتواصل معك بشأن طلبك
                    - لتحسين خدماتنا
                    
                    3. حماية المعلومات:
                    - نستخدم تقنيات أمنية متقدمة
                    - نقوم بتشفير البيانات الحساسة
                    - نحافظ على سرية المعلومات
                    
                    4. حقوقك:
                    - الحق في الوصول إلى بياناتك
                    - الحق في تصحيح البيانات
                    - الحق في طلب حذف البيانات
                    
                    للتعديل على بياناتك أو استفسارات أخرى، يرجى الاتصال بنا.
                `;
                
                alert(policy);
            }
            
            showTerms() {
                const terms = `
                    شروط الخدمة
                    ============
                    
                    1. القبول:
                    باستخدامك لخدماتنا، فإنك توافق على هذه الشروط.
                    
                    2. الخدمات:
                    - نقدم خدمات صيانة وتصميم وبرمجة
                    - الأسعار قابلة للتغير حسب نوع الخدمة
                    - نضمن الخدمات لمدة محددة حسب نوعها
                    
                    3. الدفع:
                    - الدفع نقداً أو إلكترونياً
                    - لا استرجاع للمبالغ بعد بدء الخدمة
                    - في حالة الإلغاء، رسوم 20% من قيمة الخدمة
                    
                    4. الضمان:
                    - 30 يوم على خدمات الصيانة
                    - 90 يوم على خدمات البرمجة والتصميم
                    - الضمان يشمل نفس العطل فقط
                    
                    5. المسؤولية:
                    - نحن غير مسؤولين عن البيانات المفقودة قبل الصيانة
                    - يوصى بعمل نسخة احتياطية قبل أي صيانة
                `;
                
                alert(terms);
            }
            
            showRefundPolicy() {
                const policy = `
                    سياسة الاسترجاع
                    ===============
                    
                    1. شروط الاسترجاع:
                    - يمكنك طلب استرجاع المبلغ خلال 24 ساعة من الدفع إذا لم تبدأ الخدمة بعد
                    - في حالة بدء الخدمة، يتم خصم تكاليف التشخيص والتقييم
                    - لا يمكن استرجاع المبالغ بعد انتهاء الخدمة
                    
                    2. عملية الاسترجاع:
                    - تقديم طلب عبر واتساب أو البريد الإلكتروني
                    - إرفاق رقم الفاتورة وبيانات الحجز
                    - معالجة الطلب خلال 3-5 أيام عمل
                    - يتم التحويل إلى نفس وسيلة الدفع
                    
                    3. حالات عدم الاسترجاع:
                    - بعد تنفيذ الخدمة بالكامل
                    - خدمات التصميم والبرمجة بعد التسليم
                    - المنتجات الرقمية والبرامج
                    - الخدمات الموسمية والعروض الخاصة
                `;
                
                alert(policy);
            }
            
            showContactInfo() {
                const info = `
                    معلومات الاتصال
                    ===============
                    
                    📍 العنوان:
                    ${this.config.address}
                    
                    📞 الهواتف:
                    رئيسي: ${this.config.phone}
                    واتساب: ${this.config.phone}
                    الطوارئ: متاح 24/7
                    
                    📧 البريد الإلكتروني:
                    ${this.config.email}
                    
                    📱 فيسبوك:
                    ${this.config.facebook}
                    
                    🕒 ساعات العمل:
                    الأحد - الخميس: 9:00 ص - 10:00 م
                    الجمعة: 4:00 م - 10:00 م
                    السبت: 10:00 ص - 10:00 م
                `;
                
                alert(info);
            }
            
            showFAQ() {
                this.scrollToSection('faq');
            }
            
            // ============ PORTFOLIO METHODS ============
            initPortfolio() {
                this.renderPortfolio();
                this.setupPortfolioEvents();
            }
            
            renderPortfolio() {
                const portfolioGrid = document.getElementById('portfolioGrid');
                if (!portfolioGrid) return;
                
                const filteredItems = this.state.currentFilter === 'all' 
                    ? this.portfolioData 
                    : this.portfolioData.filter(item => item.category === this.state.currentFilter);
                
                portfolioGrid.innerHTML = filteredItems.map(item => `
                    <div class="portfolio-item" data-category="${item.category}" data-id="${item.id}" tabindex="0" role="button" aria-label="عرض ${item.title}">
                        <div class="portfolio-image">
                            <img src="${item.image}" 
                                 alt="${item.title}" 
                                 loading="lazy">
                            <div class="portfolio-overlay">
                                <div class="portfolio-info">
                                    <h3>${item.title}</h3>
                                    <p>${item.description}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                `).join('');
            }
            
            setupPortfolioEvents() {
                const portfolioGrid = document.getElementById('portfolioGrid');
                if (!portfolioGrid) return;
                
                portfolioGrid.addEventListener('click', (event) => {
                    const portfolioItem = event.target.closest('.portfolio-item');
                    if (portfolioItem) {
                        const id = parseInt(portfolioItem.dataset.id);
                        this.openLightbox(id);
                    }
                });
                
                portfolioGrid.addEventListener('keydown', (event) => {
                    if (event.key === 'Enter' || event.key === ' ') {
                        const portfolioItem = event.target.closest('.portfolio-item');
                        if (portfolioItem) {
                            event.preventDefault();
                            const id = parseInt(portfolioItem.dataset.id);
                            this.openLightbox(id);
                        }
                    }
                });
            }
            
            filterPortfolio(category) {
                this.state.currentFilter = category;
                
                document.querySelectorAll('.filter-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                
                document.querySelectorAll('.filter-btn').forEach(btn => {
                    if (btn.textContent.trim() === 'الكل' && category === 'all') {
                        btn.classList.add('active');
                    } else if (btn.getAttribute('onclick')?.includes(`'${category}'`)) {
                        btn.classList.add('active');
                    }
                });
                
                this.renderPortfolio();
            }
            
            openLightbox(id) {
                const item = this.portfolioData.find(item => item.id === id);
                if (!item) return;
                
                this.state.currentImageIndex = this.portfolioData.findIndex(img => img.id === id);
                
                const lightbox = document.getElementById('lightbox');
                const lightboxImage = document.getElementById('lightboxImage');
                const lightboxTitle = document.getElementById('lightboxTitle');
                const lightboxDescription = document.getElementById('lightboxDescription');
                
                lightboxImage.src = item.image;
                lightboxImage.alt = item.title;
                lightboxTitle.textContent = item.title;
                lightboxDescription.textContent = item.description;
                
                lightbox.classList.add('show');
                lightbox.setAttribute('aria-hidden', 'false');
                document.body.style.overflow = 'hidden';
                
                setTimeout(() => {
                    document.querySelector('.lightbox-close').focus();
                }, 100);
            }
            
            closeLightbox() {
                const lightbox = document.getElementById('lightbox');
                lightbox.classList.remove('show');
                lightbox.setAttribute('aria-hidden', 'true');
                document.body.style.overflow = 'auto';
            }
            
            nextImage() {
                const filteredItems = this.state.currentFilter === 'all' 
                    ? this.portfolioData 
                    : this.portfolioData.filter(item => item.category === this.state.currentFilter);
                
                if (filteredItems.length === 0) return;
                
                this.state.currentImageIndex = (this.state.currentImageIndex + 1) % filteredItems.length;
                const item = filteredItems[this.state.currentImageIndex];
                
                const lightboxImage = document.getElementById('lightboxImage');
                const lightboxTitle = document.getElementById('lightboxTitle');
                const lightboxDescription = document.getElementById('lightboxDescription');
                
                lightboxImage.style.opacity = '0';
                
                setTimeout(() => {
                    lightboxImage.src = item.image;
                    lightboxImage.alt = item.title;
                    lightboxTitle.textContent = item.title;
                    lightboxDescription.textContent = item.description;
                    lightboxImage.style.opacity = '1';
                }, 200);
            }
            
            prevImage() {
                const filteredItems = this.state.currentFilter === 'all' 
                    ? this.portfolioData 
                    : this.portfolioData.filter(item => item.category === this.state.currentFilter);
                
                if (filteredItems.length === 0) return;
                
                this.state.currentImageIndex = (this.state.currentImageIndex - 1 + filteredItems.length) % filteredItems.length;
                const item = filteredItems[this.state.currentImageIndex];
                
                const lightboxImage = document.getElementById('lightboxImage');
                const lightboxTitle = document.getElementById('lightboxTitle');
                const lightboxDescription = document.getElementById('lightboxDescription');
                
                lightboxImage.style.opacity = '0';
                
                setTimeout(() => {
                    lightboxImage.src = item.image;
                    lightboxImage.alt = item.title;
                    lightboxTitle.textContent = item.title;
                    lightboxDescription.textContent = item.description;
                    lightboxImage.style.opacity = '1';
                }, 200);
            }
            
            loadMorePortfolio() {
                const newItems = [
                    {
                        id: this.portfolioData.length + 1,
                        category: 'receiver',
                        image: 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="800" height="600" viewBox="0 0 800 600"><rect width="800" height="600" fill="%231F2937"/><rect x="200" y="150" width="400" height="350" rx="20" fill="%238B5CF6"/><rect x="250" y="200" width="300" height="250" fill="%230F172A"/><text x="400" y="350" font-family="Arial" font-size="48" fill="white" text-anchor="middle">IPTV</text><text x="400" y="550" font-family="Arial" font-size="24" fill="white" text-anchor="middle">تحديث قنوات ريسيفر</text></svg>',
                        title: 'تحديث قنوات ريسيفر',
                        description: 'تحديث جميع القنوات ورفع حظر التشفير'
                    },
                    {
                        id: this.portfolioData.length + 2,
                        category: 'computer',
                        image: 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="800" height="600" viewBox="0 0 800 600"><rect width="800" height="600" fill="%231F2937"/><rect x="150" y="150" width="500" height="300" rx="20" fill="%2310B981"/><rect x="200" y="200" width="400" height="200" fill="%230F172A"/><text x="400" y="320" font-family="Arial" font-size="64" fill="white" text-anchor="middle">RAM</text><text x="400" y="500" font-family="Arial" font-size="24" fill="white" text-anchor="middle">ترقية ذاكرة RAM</text></svg>',
                        title: 'ترقية ذاكرة RAM',
                        description: 'ترقية ذاكرة الكمبيوتر لتحسين الأداء'
                    },
                    {
                        id: this.portfolioData.length + 3,
                        category: 'design',
                        image: 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="800" height="600" viewBox="0 0 800 600"><rect width="800" height="600" fill="%231F2937"/><rect x="100" y="100" width="600" height="400" rx="20" fill="%23F59E0B"/><rect x="150" y="150" width="500" height="300" fill="white"/><text x="400" y="300" font-family="Arial" font-size="48" fill="%231F2937" text-anchor="middle">كتاب</text><text x="400" y="550" font-family="Arial" font-size="24" fill="white" text-anchor="middle">تصميم أغلفة كتب</text></svg>',
                        title: 'تصميم أغلفة كتب',
                        description: 'تصميم احترافي لأغلفة كتب تقنية'
                    }
                ];
                
                this.portfolioData.push(...newItems);
                this.renderPortfolio();
                this.setupPortfolioEvents();
                
                setTimeout(() => {
                    alert('تم تحميل المزيد من الأعمال بنجاح!');
                }, 300);
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            window.app = new TechServiceApp();
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('fade-in');
                    }
                });
            }, {
                threshold: 0.1,
                rootMargin: '0px 0px -100px 0px'
            });
            
            document.querySelectorAll('.service-card, .testimonial-card, .form-container, .portfolio-item, .contact-method').forEach(el => {
                observer.observe(el);
            });
            
            if ('Notification' in window && Notification.permission === 'default') {
                setTimeout(() => {
                    Notification.requestPermission();
                }, 5000);
            }
            
            console.log('🚀 مركز الصقر جاهز للعمل!');
        });
    </script>
    
    <!-- Service Worker Script -->
    <script>
        if ('serviceWorker' in navigator) {
            const swContent = `
                self.addEventListener('install', (event) => {
                    console.log('Service Worker installing.');
                    self.skipWaiting();
                });

                self.addEventListener('activate', (event) => {
                    console.log('Service Worker activating.');
                });

                self.addEventListener('fetch', (event) => {
                    console.log('Fetching:', event.request.url);
                });

                self.addEventListener('push', (event) => {
                    const options = {
                        body: event.data.text(),
                        icon: 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="45" fill="%2310B981"/><text x="50" y="65" font-family="Arial" font-size="40" fill="white" text-anchor="middle">ص</text></svg>',
                        badge: 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="45" fill="%23F59E0B"/></svg>'
                    };
                    
                    event.waitUntil(
                        self.registration.showNotification('مركز الصقر', options)
                    );
                });
            `;
            
            const blob = new Blob([swContent], { type: 'application/javascript' });
            const swURL = URL.createObjectURL(blob);
            
            navigator.serviceWorker.register(swURL)
                .then(registration => {
                    console.log('Service Worker registered with scope:', registration.scope);
                })
                .catch(error => {
                    console.log('Service Worker registration failed:', error);
                });
        }
    </script> -->
</body>
</html>


